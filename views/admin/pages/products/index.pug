extends ../../layouts/default.pug
include ../../mixins/filter-status.pug
include ../../mixins/search.pug

block main 
  h1.title Danh sách sản phẩm 
  
  .card.mb-3 
    .card-header Bộ lọc và tìm kiếm 
    .card-body 
      .row 
        .col-6 
          +filter-status(filterStatus)
        .col-6 
          +search(keyword)
        
  .card
    .card-header Dánh sách sản phẩm
      .card-body
        table.table.table-hover.table-sm 
          thead 
            tr 
              th STT 
              th Hinh anh 
              th Tieu de 
              th Gia 
              th Trang thai 
              th Hanh dong   
          
          tbody 
            each item, index in products
              tr 
                td #{pagination.limitItems * (pagination.currentPage-1) + (index + 1)}
                td 
                  img(
                    src=item.thumbnail
                    alt=item.title
                    width="100px"
                    height="auto"
                  )
                td #{item.title}
                td #{item.price}$
                td 
                  if(item.status == "active")
                    a(href="#" class="badge badge-success") Hoat dong 
                  else  
                    a(href="#" class="badge badge-danger") Dung Hoat dong
                td 
                  button(class="btn btn-warning btn-sm") Sua 
                  button(class="btn btn-danger btn-sm ml-1") Xoa
    nav.mt-3
      ul(class="pagination")

        if(pagination.currentPage > 1)
          li(class="page-item")
            button(
              class="page-link"
              button-pagination=pagination.currentPage - 1
            ) Trang truoc  
        
        - for (var i = 1; i <= pagination.totalPage; i++)
          li(class=`page-item ${pagination.currentPage == i ? "active" : ""}`)
            button(
              class="page-link"
              button-pagination=i
            ) #{i}

        if(pagination.currentPage < pagination.totalPage)
          li(class="page-item")
            button(
              class="page-link"
              button-pagination=pagination.currentPage + 1
            ) Ke tiep